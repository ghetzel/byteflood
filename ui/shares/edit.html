---
page:
  title: Share Editor
bindings:
- name: share
  resource: :/api/shares/{{ or .request.url.query.id "new" }}

- name: directories
  resource: :/api/directories
---
{{ $id := or .request.url.query.id "new" }}
{{ $isNew := eq $id "new" }}
<div class="col-sm-12 col-md-6">
    <form name="shares" method="{{ if $isNew }}POST{{ else }}PUT{{ end }}" data-redirect-to="/shares/?share={{ .bindings.share.id }}">
        <div class="form-group">
            <label for="id" class="required">Share ID</label>
            <input
                type="text"
                class="form-control"
                name="id"
                aria-describedby="nameHelp"
                placeholder="Public share name"
                required
                {{ if $isNew }}autofocus{{ else }}readonly{{ end }}
                value="{{ .bindings.share.id }}"
            >

            <small id="idHelp" class="form-text text-muted">
                This is the unique ID of the share.
            </small>
        </div>

        <div class="form-group">
            <label for="description" class="required">Title</label>
            <input
                type="text"
                class="form-control"
                name="description"
                aria-describedby="descriptionHelp"
                required
                value="{{ or .request.url.query.description .bindings.share.description }}"
            >

            <small id="descriptionHelp" class="form-text text-muted">
                This is the human-readable title that will appear in the shares list.
            </small>
        </div>

        <div class="form-group row">
            <label class="col-sm-3 col-form-label" for="_directory">Folder</label>

            <div class="col-sm-9">
                <select
                    class="form-control"
                    name="_directory"
                    aria-describedby="_directoryHelp"
                    oninput="document.forms['shares'].elements['filter'].value=event.target.value; _shares_filter_update()"
                >
                {{ range .bindings.directories }}
                    <option value="label={{ .id }}"{{ if eqx $id .id }} selected{{ end }}>{{ .path }}</option>
                {{ end }}
                </select>
            </div>
        </div>

        <div class="form-group row">
            <div class="offset-sm-3 col-sm-9">
                <small id="_directoryHelp" class="form-text text-muted">
                    Select a folder from this list to populate the Content Filter field below.
                    You can refine the database query below to select different files to expose in this share.
                </small>
            </div>
        </div>

        <div class="form-group row">
            <label class="col-sm-3 col-form-label required" for="filter">Content Filter</label>

            <div class="col-sm-9">
                <div class="input-group">
                    <input
                        type="text"
                        class="form-control"
                        name="filter"
                        aria-describedby="filterHelp"
                        placeholder="Custom filter"
                        required
                        value="{{ or .request.url.query.filter .bindings.share.filter }}"
                        oninput="_shares_filter_update()"
                    >

                    <span class="input-group-addon" id="share_filter_matches">
                    </span>
                </div>
            </div>
        </div>

        <div class="form-group row">
            <div class="offset-sm-3 col-sm-9">
                <small id="filterHelp" class="form-text text-muted">
                    A database query that can be used to fine-tune which content appears in this share.
                </small>
            </div>
        </div>

        <div class="form-group row">
            <label class="col-sm-3 col-form-label required" for="icon_name">Icon</label>

            <div class="col-sm-9">
                <div class="input-group">
                    <span class="input-group-addon" id="share_icon_preview">
                        <i></i>
                    </span>

                    <select
                        class="form-control icon-list"
                        name="icon_name"
                        aria-describedby="iconHelp"
                        value="{{ or .bindings.share.icon_name `folder` }}"
                        oninput="_shares_icon_update()"
                    >
                        <option disabled selected value></option>
                        <option value="500px">500px</option>
                        <option value="address-book">address-book</option>
                        <option value="address-book-o">address-book-o</option>
                        <option value="address-card">address-card</option>
                        <option value="address-card-o">address-card-o</option>
                        <option value="adjust">adjust</option>
                        <option value="adn">adn</option>
                        <option value="align-center">align-center</option>
                        <option value="align-justify">align-justify</option>
                        <option value="align-left">align-left</option>
                        <option value="align-right">align-right</option>
                        <option value="amazon">amazon</option>
                        <option value="ambulance">ambulance</option>
                        <option value="american-sign-language-interpreting">american-sign-language-interpreting</option>
                        <option value="anchor">anchor</option>
                        <option value="android">android</option>
                        <option value="angellist">angellist</option>
                        <option value="angle-double-down">angle-double-down</option>
                        <option value="angle-double-left">angle-double-left</option>
                        <option value="angle-double-right">angle-double-right</option>
                        <option value="angle-double-up">angle-double-up</option>
                        <option value="angle-down">angle-down</option>
                        <option value="angle-left">angle-left</option>
                        <option value="angle-right">angle-right</option>
                        <option value="angle-up">angle-up</option>
                        <option value="apple">apple</option>
                        <option value="archive">archive</option>
                        <option value="area-chart">area-chart</option>
                        <option value="arrow-circle-down">arrow-circle-down</option>
                        <option value="arrow-circle-left">arrow-circle-left</option>
                        <option value="arrow-circle-o-down">arrow-circle-o-down</option>
                        <option value="arrow-circle-o-left">arrow-circle-o-left</option>
                        <option value="arrow-circle-o-right">arrow-circle-o-right</option>
                        <option value="arrow-circle-o-up">arrow-circle-o-up</option>
                        <option value="arrow-circle-right">arrow-circle-right</option>
                        <option value="arrow-circle-up">arrow-circle-up</option>
                        <option value="arrow-down">arrow-down</option>
                        <option value="arrow-left">arrow-left</option>
                        <option value="arrow-right">arrow-right</option>
                        <option value="arrow-up">arrow-up</option>
                        <option value="arrows">arrows</option>
                        <option value="arrows-alt">arrows-alt</option>
                        <option value="arrows-h">arrows-h</option>
                        <option value="arrows-v">arrows-v</option>
                        <option value="asl-interpreting">asl-interpreting (alias)</option>
                        <option value="assistive-listening-systems">assistive-listening-systems</option>
                        <option value="asterisk">asterisk</option>
                        <option value="at">at</option>
                        <option value="audio-description">audio-description</option>
                        <option value="automobile">automobile (alias)</option>
                        <option value="backward">backward</option>
                        <option value="balance-scale">balance-scale</option>
                        <option value="ban">ban</option>
                        <option value="bandcamp">bandcamp</option>
                        <option value="bank">bank (alias)</option>
                        <option value="bar-chart">bar-chart</option>
                        <option value="bar-chart-o">bar-chart-o (alias)</option>
                        <option value="barcode">barcode</option>
                        <option value="bars">bars</option>
                        <option value="bath">bath</option>
                        <option value="bathtub">bathtub (alias)</option>
                        <option value="battery">battery (alias)</option>
                        <option value="battery-0">battery-0 (alias)</option>
                        <option value="battery-1">battery-1 (alias)</option>
                        <option value="battery-2">battery-2 (alias)</option>
                        <option value="battery-3">battery-3 (alias)</option>
                        <option value="battery-4">battery-4 (alias)</option>
                        <option value="battery-empty">battery-empty</option>
                        <option value="battery-full">battery-full</option>
                        <option value="battery-half">battery-half</option>
                        <option value="battery-quarter">battery-quarter</option>
                        <option value="battery-three-quarters">battery-three-quarters</option>
                        <option value="bed">bed</option>
                        <option value="beer">beer</option>
                        <option value="behance">behance</option>
                        <option value="behance-square">behance-square</option>
                        <option value="bell">bell</option>
                        <option value="bell-o">bell-o</option>
                        <option value="bell-slash">bell-slash</option>
                        <option value="bell-slash-o">bell-slash-o</option>
                        <option value="bicycle">bicycle</option>
                        <option value="binoculars">binoculars</option>
                        <option value="birthday-cake">birthday-cake</option>
                        <option value="bitbucket">bitbucket</option>
                        <option value="bitbucket-square">bitbucket-square</option>
                        <option value="bitcoin">bitcoin (alias)</option>
                        <option value="black-tie">black-tie</option>
                        <option value="blind">blind</option>
                        <option value="bluetooth">bluetooth</option>
                        <option value="bluetooth-b">bluetooth-b</option>
                        <option value="bold">bold</option>
                        <option value="bolt">bolt</option>
                        <option value="bomb">bomb</option>
                        <option value="book">book</option>
                        <option value="bookmark">bookmark</option>
                        <option value="bookmark-o">bookmark-o</option>
                        <option value="braille">braille</option>
                        <option value="briefcase">briefcase</option>
                        <option value="btc">btc</option>
                        <option value="bug">bug</option>
                        <option value="building">building</option>
                        <option value="building-o">building-o</option>
                        <option value="bullhorn">bullhorn</option>
                        <option value="bullseye">bullseye</option>
                        <option value="bus">bus</option>
                        <option value="buysellads">buysellads</option>
                        <option value="cab">cab (alias)</option>
                        <option value="calculator">calculator</option>
                        <option value="calendar">calendar</option>
                        <option value="calendar-check-o">calendar-check-o</option>
                        <option value="calendar-minus-o">calendar-minus-o</option>
                        <option value="calendar-o">calendar-o</option>
                        <option value="calendar-plus-o">calendar-plus-o</option>
                        <option value="calendar-times-o">calendar-times-o</option>
                        <option value="camera">camera</option>
                        <option value="camera-retro">camera-retro</option>
                        <option value="car">car</option>
                        <option value="caret-down">caret-down</option>
                        <option value="caret-left">caret-left</option>
                        <option value="caret-right">caret-right</option>
                        <option value="caret-square-o-down">caret-square-o-down</option>
                        <option value="caret-square-o-left">caret-square-o-left</option>
                        <option value="caret-square-o-right">caret-square-o-right</option>
                        <option value="caret-square-o-up">caret-square-o-up</option>
                        <option value="caret-up">caret-up</option>
                        <option value="cart-arrow-down">cart-arrow-down</option>
                        <option value="cart-plus">cart-plus</option>
                        <option value="cc">cc</option>
                        <option value="cc-amex">cc-amex</option>
                        <option value="cc-diners-club">cc-diners-club</option>
                        <option value="cc-discover">cc-discover</option>
                        <option value="cc-jcb">cc-jcb</option>
                        <option value="cc-mastercard">cc-mastercard</option>
                        <option value="cc-paypal">cc-paypal</option>
                        <option value="cc-stripe">cc-stripe</option>
                        <option value="cc-visa">cc-visa</option>
                        <option value="certificate">certificate</option>
                        <option value="chain">chain (alias)</option>
                        <option value="chain-broken">chain-broken</option>
                        <option value="check">check</option>
                        <option value="check-circle">check-circle</option>
                        <option value="check-circle-o">check-circle-o</option>
                        <option value="check-square">check-square</option>
                        <option value="check-square-o">check-square-o</option>
                        <option value="chevron-circle-down">chevron-circle-down</option>
                        <option value="chevron-circle-left">chevron-circle-left</option>
                        <option value="chevron-circle-right">chevron-circle-right</option>
                        <option value="chevron-circle-up">chevron-circle-up</option>
                        <option value="chevron-down">chevron-down</option>
                        <option value="chevron-left">chevron-left</option>
                        <option value="chevron-right">chevron-right</option>
                        <option value="chevron-up">chevron-up</option>
                        <option value="child">child</option>
                        <option value="chrome">chrome</option>
                        <option value="circle">circle</option>
                        <option value="circle-o">circle-o</option>
                        <option value="circle-o-notch">circle-o-notch</option>
                        <option value="circle-thin">circle-thin</option>
                        <option value="clipboard">clipboard</option>
                        <option value="clock-o">clock-o</option>
                        <option value="clone">clone</option>
                        <option value="close">close (alias)</option>
                        <option value="cloud">cloud</option>
                        <option value="cloud-download">cloud-download</option>
                        <option value="cloud-upload">cloud-upload</option>
                        <option value="cny">cny (alias)</option>
                        <option value="code">code</option>
                        <option value="code-fork">code-fork</option>
                        <option value="codepen">codepen</option>
                        <option value="codiepie">codiepie</option>
                        <option value="coffee">coffee</option>
                        <option value="cog">cog</option>
                        <option value="cogs">cogs</option>
                        <option value="columns">columns</option>
                        <option value="comment">comment</option>
                        <option value="comment-o">comment-o</option>
                        <option value="commenting">commenting</option>
                        <option value="commenting-o">commenting-o</option>
                        <option value="comments">comments</option>
                        <option value="comments-o">comments-o</option>
                        <option value="compass">compass</option>
                        <option value="compress">compress</option>
                        <option value="connectdevelop">connectdevelop</option>
                        <option value="contao">contao</option>
                        <option value="copy">copy (alias)</option>
                        <option value="copyright">copyright</option>
                        <option value="creative-commons">creative-commons</option>
                        <option value="credit-card">credit-card</option>
                        <option value="credit-card-alt">credit-card-alt</option>
                        <option value="crop">crop</option>
                        <option value="crosshairs">crosshairs</option>
                        <option value="css3">css3</option>
                        <option value="cube">cube</option>
                        <option value="cubes">cubes</option>
                        <option value="cut">cut (alias)</option>
                        <option value="cutlery">cutlery</option>
                        <option value="dashboard">dashboard (alias)</option>
                        <option value="dashcube">dashcube</option>
                        <option value="database">database</option>
                        <option value="deaf">deaf</option>
                        <option value="deafness">deafness (alias)</option>
                        <option value="dedent">dedent (alias)</option>
                        <option value="delicious">delicious</option>
                        <option value="desktop">desktop</option>
                        <option value="deviantart">deviantart</option>
                        <option value="diamond">diamond</option>
                        <option value="digg">digg</option>
                        <option value="dollar">dollar (alias)</option>
                        <option value="dot-circle-o">dot-circle-o</option>
                        <option value="download">download</option>
                        <option value="dribbble">dribbble</option>
                        <option value="drivers-license">drivers-license (alias)</option>
                        <option value="drivers-license-o">drivers-license-o (alias)</option>
                        <option value="dropbox">dropbox</option>
                        <option value="drupal">drupal</option>
                        <option value="edge">edge</option>
                        <option value="edit">edit (alias)</option>
                        <option value="eercast">eercast</option>
                        <option value="eject">eject</option>
                        <option value="ellipsis-h">ellipsis-h</option>
                        <option value="ellipsis-v">ellipsis-v</option>
                        <option value="empire">empire</option>
                        <option value="envelope">envelope</option>
                        <option value="envelope-o">envelope-o</option>
                        <option value="envelope-open">envelope-open</option>
                        <option value="envelope-open-o">envelope-open-o</option>
                        <option value="envelope-square">envelope-square</option>
                        <option value="envira">envira</option>
                        <option value="eraser">eraser</option>
                        <option value="etsy">etsy</option>
                        <option value="eur">eur</option>
                        <option value="euro">euro (alias)</option>
                        <option value="exchange">exchange</option>
                        <option value="exclamation">exclamation</option>
                        <option value="exclamation-circle">exclamation-circle</option>
                        <option value="exclamation-triangle">exclamation-triangle</option>
                        <option value="expand">expand</option>
                        <option value="expeditedssl">expeditedssl</option>
                        <option value="external-link">external-link</option>
                        <option value="external-link-square">external-link-square</option>
                        <option value="eye">eye</option>
                        <option value="eye-slash">eye-slash</option>
                        <option value="eyedropper">eyedropper</option>
                        <option value="fa">fa (alias)</option>
                        <option value="facebook">facebook</option>
                        <option value="facebook-f">facebook-f (alias)</option>
                        <option value="facebook-official">facebook-official</option>
                        <option value="facebook-square">facebook-square</option>
                        <option value="fast-backward">fast-backward</option>
                        <option value="fast-forward">fast-forward</option>
                        <option value="fax">fax</option>
                        <option value="feed">feed (alias)</option>
                        <option value="female">female</option>
                        <option value="fighter-jet">fighter-jet</option>
                        <option value="file">file</option>
                        <option value="file-archive-o">file-archive-o</option>
                        <option value="file-audio-o">file-audio-o</option>
                        <option value="file-code-o">file-code-o</option>
                        <option value="file-excel-o">file-excel-o</option>
                        <option value="file-image-o">file-image-o</option>
                        <option value="file-movie-o">file-movie-o (alias)</option>
                        <option value="file-o">file-o</option>
                        <option value="file-pdf-o">file-pdf-o</option>
                        <option value="file-photo-o">file-photo-o (alias)</option>
                        <option value="file-picture-o">file-picture-o (alias)</option>
                        <option value="file-powerpoint-o">file-powerpoint-o</option>
                        <option value="file-sound-o">file-sound-o (alias)</option>
                        <option value="file-text">file-text</option>
                        <option value="file-text-o">file-text-o</option>
                        <option value="file-video-o">file-video-o</option>
                        <option value="file-word-o">file-word-o</option>
                        <option value="file-zip-o">file-zip-o (alias)</option>
                        <option value="files-o">files-o</option>
                        <option value="film">film</option>
                        <option value="filter">filter</option>
                        <option value="fire">fire</option>
                        <option value="fire-extinguisher">fire-extinguisher</option>
                        <option value="firefox">firefox</option>
                        <option value="first-order">first-order</option>
                        <option value="flag">flag</option>
                        <option value="flag-checkered">flag-checkered</option>
                        <option value="flag-o">flag-o</option>
                        <option value="flash">flash (alias)</option>
                        <option value="flask">flask</option>
                        <option value="flickr">flickr</option>
                        <option value="floppy-o">floppy-o</option>
                        <option value="folder">folder</option>
                        <option value="folder-o">folder-o</option>
                        <option value="folder-open">folder-open</option>
                        <option value="folder-open-o">folder-open-o</option>
                        <option value="font">font</option>
                        <option value="font-awesome">font-awesome</option>
                        <option value="fonticons">fonticons</option>
                        <option value="fort-awesome">fort-awesome</option>
                        <option value="forumbee">forumbee</option>
                        <option value="forward">forward</option>
                        <option value="foursquare">foursquare</option>
                        <option value="free-code-camp">free-code-camp</option>
                        <option value="frown-o">frown-o</option>
                        <option value="futbol-o">futbol-o</option>
                        <option value="gamepad">gamepad</option>
                        <option value="gavel">gavel</option>
                        <option value="gbp">gbp</option>
                        <option value="ge">ge (alias)</option>
                        <option value="gear">gear (alias)</option>
                        <option value="gears">gears (alias)</option>
                        <option value="genderless">genderless</option>
                        <option value="get-pocket">get-pocket</option>
                        <option value="gg">gg</option>
                        <option value="gg-circle">gg-circle</option>
                        <option value="gift">gift</option>
                        <option value="git">git</option>
                        <option value="git-square">git-square</option>
                        <option value="github">github</option>
                        <option value="github-alt">github-alt</option>
                        <option value="github-square">github-square</option>
                        <option value="gitlab">gitlab</option>
                        <option value="gittip">gittip (alias)</option>
                        <option value="glass">glass</option>
                        <option value="glide">glide</option>
                        <option value="glide-g">glide-g</option>
                        <option value="globe">globe</option>
                        <option value="google">google</option>
                        <option value="google-plus">google-plus</option>
                        <option value="google-plus-circle">google-plus-circle (alias)</option>
                        <option value="google-plus-official">google-plus-official</option>
                        <option value="google-plus-square">google-plus-square</option>
                        <option value="google-wallet">google-wallet</option>
                        <option value="graduation-cap">graduation-cap</option>
                        <option value="gratipay">gratipay</option>
                        <option value="grav">grav</option>
                        <option value="group">group (alias)</option>
                        <option value="h-square">h-square</option>
                        <option value="hacker-news">hacker-news</option>
                        <option value="hand-grab-o">hand-grab-o (alias)</option>
                        <option value="hand-lizard-o">hand-lizard-o</option>
                        <option value="hand-o-down">hand-o-down</option>
                        <option value="hand-o-left">hand-o-left</option>
                        <option value="hand-o-right">hand-o-right</option>
                        <option value="hand-o-up">hand-o-up</option>
                        <option value="hand-paper-o">hand-paper-o</option>
                        <option value="hand-peace-o">hand-peace-o</option>
                        <option value="hand-pointer-o">hand-pointer-o</option>
                        <option value="hand-rock-o">hand-rock-o</option>
                        <option value="hand-scissors-o">hand-scissors-o</option>
                        <option value="hand-spock-o">hand-spock-o</option>
                        <option value="hand-stop-o">hand-stop-o (alias)</option>
                        <option value="handshake-o">handshake-o</option>
                        <option value="hard-of-hearing">hard-of-hearing (alias)</option>
                        <option value="hashtag">hashtag</option>
                        <option value="hdd-o">hdd-o</option>
                        <option value="header">header</option>
                        <option value="headphones">headphones</option>
                        <option value="heart">heart</option>
                        <option value="heart-o">heart-o</option>
                        <option value="heartbeat">heartbeat</option>
                        <option value="history">history</option>
                        <option value="home">home</option>
                        <option value="hospital-o">hospital-o</option>
                        <option value="hotel">hotel (alias)</option>
                        <option value="hourglass">hourglass</option>
                        <option value="hourglass-1">hourglass-1 (alias)</option>
                        <option value="hourglass-2">hourglass-2 (alias)</option>
                        <option value="hourglass-3">hourglass-3 (alias)</option>
                        <option value="hourglass-end">hourglass-end</option>
                        <option value="hourglass-half">hourglass-half</option>
                        <option value="hourglass-o">hourglass-o</option>
                        <option value="hourglass-start">hourglass-start</option>
                        <option value="houzz">houzz</option>
                        <option value="html5">html5</option>
                        <option value="i-cursor">i-cursor</option>
                        <option value="id-badge">id-badge</option>
                        <option value="id-card">id-card</option>
                        <option value="id-card-o">id-card-o</option>
                        <option value="ils">ils</option>
                        <option value="image">image (alias)</option>
                        <option value="imdb">imdb</option>
                        <option value="inbox">inbox</option>
                        <option value="indent">indent</option>
                        <option value="industry">industry</option>
                        <option value="info">info</option>
                        <option value="info-circle">info-circle</option>
                        <option value="inr">inr</option>
                        <option value="instagram">instagram</option>
                        <option value="institution">institution (alias)</option>
                        <option value="internet-explorer">internet-explorer</option>
                        <option value="intersex">intersex (alias)</option>
                        <option value="ioxhost">ioxhost</option>
                        <option value="italic">italic</option>
                        <option value="joomla">joomla</option>
                        <option value="jpy">jpy</option>
                        <option value="jsfiddle">jsfiddle</option>
                        <option value="key">key</option>
                        <option value="keyboard-o">keyboard-o</option>
                        <option value="krw">krw</option>
                        <option value="language">language</option>
                        <option value="laptop">laptop</option>
                        <option value="lastfm">lastfm</option>
                        <option value="lastfm-square">lastfm-square</option>
                        <option value="leaf">leaf</option>
                        <option value="leanpub">leanpub</option>
                        <option value="legal">legal (alias)</option>
                        <option value="lemon-o">lemon-o</option>
                        <option value="level-down">level-down</option>
                        <option value="level-up">level-up</option>
                        <option value="life-bouy">life-bouy (alias)</option>
                        <option value="life-buoy">life-buoy (alias)</option>
                        <option value="life-ring">life-ring</option>
                        <option value="life-saver">life-saver (alias)</option>
                        <option value="lightbulb-o">lightbulb-o</option>
                        <option value="line-chart">line-chart</option>
                        <option value="link">link</option>
                        <option value="linkedin">linkedin</option>
                        <option value="linkedin-square">linkedin-square</option>
                        <option value="linode">linode</option>
                        <option value="linux">linux</option>
                        <option value="list">list</option>
                        <option value="list-alt">list-alt</option>
                        <option value="list-ol">list-ol</option>
                        <option value="list-ul">list-ul</option>
                        <option value="location-arrow">location-arrow</option>
                        <option value="lock">lock</option>
                        <option value="long-arrow-down">long-arrow-down</option>
                        <option value="long-arrow-left">long-arrow-left</option>
                        <option value="long-arrow-right">long-arrow-right</option>
                        <option value="long-arrow-up">long-arrow-up</option>
                        <option value="low-vision">low-vision</option>
                        <option value="magic">magic</option>
                        <option value="magnet">magnet</option>
                        <option value="mail-forward">mail-forward (alias)</option>
                        <option value="mail-reply">mail-reply (alias)</option>
                        <option value="mail-reply-all">mail-reply-all (alias)</option>
                        <option value="male">male</option>
                        <option value="map">map</option>
                        <option value="map-marker">map-marker</option>
                        <option value="map-o">map-o</option>
                        <option value="map-pin">map-pin</option>
                        <option value="map-signs">map-signs</option>
                        <option value="mars">mars</option>
                        <option value="mars-double">mars-double</option>
                        <option value="mars-stroke">mars-stroke</option>
                        <option value="mars-stroke-h">mars-stroke-h</option>
                        <option value="mars-stroke-v">mars-stroke-v</option>
                        <option value="maxcdn">maxcdn</option>
                        <option value="meanpath">meanpath</option>
                        <option value="medium">medium</option>
                        <option value="medkit">medkit</option>
                        <option value="meetup">meetup</option>
                        <option value="meh-o">meh-o</option>
                        <option value="mercury">mercury</option>
                        <option value="microchip">microchip</option>
                        <option value="microphone">microphone</option>
                        <option value="microphone-slash">microphone-slash</option>
                        <option value="minus">minus</option>
                        <option value="minus-circle">minus-circle</option>
                        <option value="minus-square">minus-square</option>
                        <option value="minus-square-o">minus-square-o</option>
                        <option value="mixcloud">mixcloud</option>
                        <option value="mobile">mobile</option>
                        <option value="mobile-phone">mobile-phone (alias)</option>
                        <option value="modx">modx</option>
                        <option value="money">money</option>
                        <option value="moon-o">moon-o</option>
                        <option value="mortar-board">mortar-board (alias)</option>
                        <option value="motorcycle">motorcycle</option>
                        <option value="mouse-pointer">mouse-pointer</option>
                        <option value="music">music</option>
                        <option value="navicon">navicon (alias)</option>
                        <option value="neuter">neuter</option>
                        <option value="newspaper-o">newspaper-o</option>
                        <option value="object-group">object-group</option>
                        <option value="object-ungroup">object-ungroup</option>
                        <option value="odnoklassniki">odnoklassniki</option>
                        <option value="odnoklassniki-square">odnoklassniki-square</option>
                        <option value="opencart">opencart</option>
                        <option value="openid">openid</option>
                        <option value="opera">opera</option>
                        <option value="optin-monster">optin-monster</option>
                        <option value="outdent">outdent</option>
                        <option value="pagelines">pagelines</option>
                        <option value="paint-brush">paint-brush</option>
                        <option value="paper-plane">paper-plane</option>
                        <option value="paper-plane-o">paper-plane-o</option>
                        <option value="paperclip">paperclip</option>
                        <option value="paragraph">paragraph</option>
                        <option value="paste">paste (alias)</option>
                        <option value="pause">pause</option>
                        <option value="pause-circle">pause-circle</option>
                        <option value="pause-circle-o">pause-circle-o</option>
                        <option value="paw">paw</option>
                        <option value="paypal">paypal</option>
                        <option value="pencil">pencil</option>
                        <option value="pencil-square">pencil-square</option>
                        <option value="pencil-square-o">pencil-square-o</option>
                        <option value="percent">percent</option>
                        <option value="phone">phone</option>
                        <option value="phone-square">phone-square</option>
                        <option value="photo">photo (alias)</option>
                        <option value="picture-o">picture-o</option>
                        <option value="pie-chart">pie-chart</option>
                        <option value="pied-piper">pied-piper</option>
                        <option value="pied-piper-alt">pied-piper-alt</option>
                        <option value="pied-piper-pp">pied-piper-pp</option>
                        <option value="pinterest">pinterest</option>
                        <option value="pinterest-p">pinterest-p</option>
                        <option value="pinterest-square">pinterest-square</option>
                        <option value="plane">plane</option>
                        <option value="play">play</option>
                        <option value="play-circle">play-circle</option>
                        <option value="play-circle-o">play-circle-o</option>
                        <option value="plug">plug</option>
                        <option value="plus">plus</option>
                        <option value="plus-circle">plus-circle</option>
                        <option value="plus-square">plus-square</option>
                        <option value="plus-square-o">plus-square-o</option>
                        <option value="podcast">podcast</option>
                        <option value="power-off">power-off</option>
                        <option value="print">print</option>
                        <option value="product-hunt">product-hunt</option>
                        <option value="puzzle-piece">puzzle-piece</option>
                        <option value="qq">qq</option>
                        <option value="qrcode">qrcode</option>
                        <option value="question">question</option>
                        <option value="question-circle">question-circle</option>
                        <option value="question-circle-o">question-circle-o</option>
                        <option value="quora">quora</option>
                        <option value="quote-left">quote-left</option>
                        <option value="quote-right">quote-right</option>
                        <option value="ra">ra (alias)</option>
                        <option value="random">random</option>
                        <option value="ravelry">ravelry</option>
                        <option value="rebel">rebel</option>
                        <option value="recycle">recycle</option>
                        <option value="reddit">reddit</option>
                        <option value="reddit-alien">reddit-alien</option>
                        <option value="reddit-square">reddit-square</option>
                        <option value="refresh">refresh</option>
                        <option value="registered">registered</option>
                        <option value="remove">remove (alias)</option>
                        <option value="renren">renren</option>
                        <option value="reorder">reorder (alias)</option>
                        <option value="repeat">repeat</option>
                        <option value="reply">reply</option>
                        <option value="reply-all">reply-all</option>
                        <option value="resistance">resistance (alias)</option>
                        <option value="retweet">retweet</option>
                        <option value="rmb">rmb (alias)</option>
                        <option value="road">road</option>
                        <option value="rocket">rocket</option>
                        <option value="rotate-left">rotate-left (alias)</option>
                        <option value="rotate-right">rotate-right (alias)</option>
                        <option value="rouble">rouble (alias)</option>
                        <option value="rss">rss</option>
                        <option value="rss-square">rss-square</option>
                        <option value="rub">rub</option>
                        <option value="ruble">ruble (alias)</option>
                        <option value="rupee">rupee (alias)</option>
                        <option value="s15">s15 (alias)</option>
                        <option value="safari">safari</option>
                        <option value="save">save (alias)</option>
                        <option value="scissors">scissors</option>
                        <option value="scribd">scribd</option>
                        <option value="search">search</option>
                        <option value="search-minus">search-minus</option>
                        <option value="search-plus">search-plus</option>
                        <option value="sellsy">sellsy</option>
                        <option value="send">send (alias)</option>
                        <option value="send-o">send-o (alias)</option>
                        <option value="server">server</option>
                        <option value="share">share</option>
                        <option value="share-alt">share-alt</option>
                        <option value="share-alt-square">share-alt-square</option>
                        <option value="share-square">share-square</option>
                        <option value="share-square-o">share-square-o</option>
                        <option value="shekel">shekel (alias)</option>
                        <option value="sheqel">sheqel (alias)</option>
                        <option value="shield">shield</option>
                        <option value="ship">ship</option>
                        <option value="shirtsinbulk">shirtsinbulk</option>
                        <option value="shopping-bag">shopping-bag</option>
                        <option value="shopping-basket">shopping-basket</option>
                        <option value="shopping-cart">shopping-cart</option>
                        <option value="shower">shower</option>
                        <option value="sign-in">sign-in</option>
                        <option value="sign-language">sign-language</option>
                        <option value="sign-out">sign-out</option>
                        <option value="signal">signal</option>
                        <option value="signing">signing (alias)</option>
                        <option value="simplybuilt">simplybuilt</option>
                        <option value="sitemap">sitemap</option>
                        <option value="skyatlas">skyatlas</option>
                        <option value="skype">skype</option>
                        <option value="slack">slack</option>
                        <option value="sliders">sliders</option>
                        <option value="slideshare">slideshare</option>
                        <option value="smile-o">smile-o</option>
                        <option value="snapchat">snapchat</option>
                        <option value="snapchat-ghost">snapchat-ghost</option>
                        <option value="snapchat-square">snapchat-square</option>
                        <option value="snowflake-o">snowflake-o</option>
                        <option value="soccer-ball-o">soccer-ball-o (alias)</option>
                        <option value="sort">sort</option>
                        <option value="sort-alpha-asc">sort-alpha-asc</option>
                        <option value="sort-alpha-desc">sort-alpha-desc</option>
                        <option value="sort-amount-asc">sort-amount-asc</option>
                        <option value="sort-amount-desc">sort-amount-desc</option>
                        <option value="sort-asc">sort-asc</option>
                        <option value="sort-desc">sort-desc</option>
                        <option value="sort-down">sort-down (alias)</option>
                        <option value="sort-numeric-asc">sort-numeric-asc</option>
                        <option value="sort-numeric-desc">sort-numeric-desc</option>
                        <option value="sort-up">sort-up (alias)</option>
                        <option value="soundcloud">soundcloud</option>
                        <option value="space-shuttle">space-shuttle</option>
                        <option value="spinner">spinner</option>
                        <option value="spoon">spoon</option>
                        <option value="spotify">spotify</option>
                        <option value="square">square</option>
                        <option value="square-o">square-o</option>
                        <option value="stack-exchange">stack-exchange</option>
                        <option value="stack-overflow">stack-overflow</option>
                        <option value="star">star</option>
                        <option value="star-half">star-half</option>
                        <option value="star-half-empty">star-half-empty (alias)</option>
                        <option value="star-half-full">star-half-full (alias)</option>
                        <option value="star-half-o">star-half-o</option>
                        <option value="star-o">star-o</option>
                        <option value="steam">steam</option>
                        <option value="steam-square">steam-square</option>
                        <option value="step-backward">step-backward</option>
                        <option value="step-forward">step-forward</option>
                        <option value="stethoscope">stethoscope</option>
                        <option value="sticky-note">sticky-note</option>
                        <option value="sticky-note-o">sticky-note-o</option>
                        <option value="stop">stop</option>
                        <option value="stop-circle">stop-circle</option>
                        <option value="stop-circle-o">stop-circle-o</option>
                        <option value="street-view">street-view</option>
                        <option value="strikethrough">strikethrough</option>
                        <option value="stumbleupon">stumbleupon</option>
                        <option value="stumbleupon-circle">stumbleupon-circle</option>
                        <option value="subscript">subscript</option>
                        <option value="subway">subway</option>
                        <option value="suitcase">suitcase</option>
                        <option value="sun-o">sun-o</option>
                        <option value="superpowers">superpowers</option>
                        <option value="superscript">superscript</option>
                        <option value="support">support (alias)</option>
                        <option value="table">table</option>
                        <option value="tablet">tablet</option>
                        <option value="tachometer">tachometer</option>
                        <option value="tag">tag</option>
                        <option value="tags">tags</option>
                        <option value="tasks">tasks</option>
                        <option value="taxi">taxi</option>
                        <option value="telegram">telegram</option>
                        <option value="television">television</option>
                        <option value="tencent-weibo">tencent-weibo</option>
                        <option value="terminal">terminal</option>
                        <option value="text-height">text-height</option>
                        <option value="text-width">text-width</option>
                        <option value="th">th</option>
                        <option value="th-large">th-large</option>
                        <option value="th-list">th-list</option>
                        <option value="themeisle">themeisle</option>
                        <option value="thermometer">thermometer (alias)</option>
                        <option value="thermometer-0">thermometer-0 (alias)</option>
                        <option value="thermometer-1">thermometer-1 (alias)</option>
                        <option value="thermometer-2">thermometer-2 (alias)</option>
                        <option value="thermometer-3">thermometer-3 (alias)</option>
                        <option value="thermometer-4">thermometer-4 (alias)</option>
                        <option value="thermometer-empty">thermometer-empty</option>
                        <option value="thermometer-full">thermometer-full</option>
                        <option value="thermometer-half">thermometer-half</option>
                        <option value="thermometer-quarter">thermometer-quarter</option>
                        <option value="thermometer-three-quarters">thermometer-three-quarters</option>
                        <option value="thumb-tack">thumb-tack</option>
                        <option value="thumbs-down">thumbs-down</option>
                        <option value="thumbs-o-down">thumbs-o-down</option>
                        <option value="thumbs-o-up">thumbs-o-up</option>
                        <option value="thumbs-up">thumbs-up</option>
                        <option value="ticket">ticket</option>
                        <option value="times">times</option>
                        <option value="times-circle">times-circle</option>
                        <option value="times-circle-o">times-circle-o</option>
                        <option value="times-rectangle">times-rectangle (alias)</option>
                        <option value="times-rectangle-o">times-rectangle-o (alias)</option>
                        <option value="tint">tint</option>
                        <option value="toggle-down">toggle-down (alias)</option>
                        <option value="toggle-left">toggle-left (alias)</option>
                        <option value="toggle-off">toggle-off</option>
                        <option value="toggle-on">toggle-on</option>
                        <option value="toggle-right">toggle-right (alias)</option>
                        <option value="toggle-up">toggle-up (alias)</option>
                        <option value="trademark">trademark</option>
                        <option value="train">train</option>
                        <option value="transgender">transgender</option>
                        <option value="transgender-alt">transgender-alt</option>
                        <option value="trash">trash</option>
                        <option value="trash-o">trash-o</option>
                        <option value="tree">tree</option>
                        <option value="trello">trello</option>
                        <option value="tripadvisor">tripadvisor</option>
                        <option value="trophy">trophy</option>
                        <option value="truck">truck</option>
                        <option value="try">try</option>
                        <option value="tty">tty</option>
                        <option value="tumblr">tumblr</option>
                        <option value="tumblr-square">tumblr-square</option>
                        <option value="turkish-lira">turkish-lira (alias)</option>
                        <option value="tv">tv (alias)</option>
                        <option value="twitch">twitch</option>
                        <option value="twitter">twitter</option>
                        <option value="twitter-square">twitter-square</option>
                        <option value="umbrella">umbrella</option>
                        <option value="underline">underline</option>
                        <option value="undo">undo</option>
                        <option value="universal-access">universal-access</option>
                        <option value="university">university</option>
                        <option value="unlink">unlink (alias)</option>
                        <option value="unlock">unlock</option>
                        <option value="unlock-alt">unlock-alt</option>
                        <option value="unsorted">unsorted (alias)</option>
                        <option value="upload">upload</option>
                        <option value="usb">usb</option>
                        <option value="usd">usd</option>
                        <option value="user">user</option>
                        <option value="user-circle">user-circle</option>
                        <option value="user-circle-o">user-circle-o</option>
                        <option value="user-md">user-md</option>
                        <option value="user-o">user-o</option>
                        <option value="user-plus">user-plus</option>
                        <option value="user-secret">user-secret</option>
                        <option value="user-times">user-times</option>
                        <option value="users">users</option>
                        <option value="vcard">vcard (alias)</option>
                        <option value="vcard-o">vcard-o (alias)</option>
                        <option value="venus">venus</option>
                        <option value="venus-double">venus-double</option>
                        <option value="venus-mars">venus-mars</option>
                        <option value="viacoin">viacoin</option>
                        <option value="viadeo">viadeo</option>
                        <option value="viadeo-square">viadeo-square</option>
                        <option value="video-camera">video-camera</option>
                        <option value="vimeo">vimeo</option>
                        <option value="vimeo-square">vimeo-square</option>
                        <option value="vine">vine</option>
                        <option value="vk">vk</option>
                        <option value="volume-control-phone">volume-control-phone</option>
                        <option value="volume-down">volume-down</option>
                        <option value="volume-off">volume-off</option>
                        <option value="volume-up">volume-up</option>
                        <option value="warning">warning (alias)</option>
                        <option value="wechat">wechat (alias)</option>
                        <option value="weibo">weibo</option>
                        <option value="weixin">weixin</option>
                        <option value="whatsapp">whatsapp</option>
                        <option value="wheelchair">wheelchair</option>
                        <option value="wheelchair-alt">wheelchair-alt</option>
                        <option value="wifi">wifi</option>
                        <option value="wikipedia-w">wikipedia-w</option>
                        <option value="window-close">window-close</option>
                        <option value="window-close-o">window-close-o</option>
                        <option value="window-maximize">window-maximize</option>
                        <option value="window-minimize">window-minimize</option>
                        <option value="window-restore">window-restore</option>
                        <option value="windows">windows</option>
                        <option value="won">won (alias)</option>
                        <option value="wordpress">wordpress</option>
                        <option value="wpbeginner">wpbeginner</option>
                        <option value="wpexplorer">wpexplorer</option>
                        <option value="wpforms">wpforms</option>
                        <option value="wrench">wrench</option>
                        <option value="xing">xing</option>
                        <option value="xing-square">xing-square</option>
                        <option value="y-combinator">y-combinator</option>
                        <option value="y-combinator-square">y-combinator-square (alias)</option>
                        <option value="yahoo">yahoo</option>
                        <option value="yc">yc (alias)</option>
                        <option value="yc-square">yc-square (alias)</option>
                        <option value="yelp">yelp</option>
                        <option value="yen">yen (alias)</option>
                        <option value="yoast">yoast</option>
                        <option value="youtube">youtube</option>
                        <option value="youtube-play">youtube-play</option>
                        <option value="youtube-square">youtube-square</option>
                    </select>
                </div>
            </div>
        </div>
        <div class="form-group row">
            <div class="offset-sm-3 col-sm-9">
                <small id="iconHelp" class="form-text text-muted">
                    This is a <a target="_blank" href="http://fontawesome.io/icons/">fontawesome.io icon</a> that will appear alongside
                    the share title when other peers are browsing.
                </small>
            </div>
        </div>

        <div class="form-group row">
            <label class="col-sm-3 col-form-label" for="filter">Access Control</label>
            <div class="col-sm-9">
                <div class="input-group">
                    <span class="input-group-addon">Block</span>
                    <input
                        type="text"
                        class="form-control"
                        name="blocklist"
                        aria-describedby="aclHelp"
                        value="{{ .bindings.share.blocklist }}"
                    >
                </div>
            </div>
        </div>

        <div class="form-group row">
            <div class="offset-sm-3 col-sm-9">
                <div class="input-group">
                    <span class="input-group-addon">Allow</span>
                    <input
                        type="text"
                        class="form-control"
                        name="allowlist"
                        aria-describedby="aclHelp"
                        value="{{ .bindings.share.allowlist }}"
                    >
                </div>
            </div>
        </div>

        <div class="form-group row">
            <div class="offset-sm-3 col-sm-9">
                <small id="aclHelp" class="form-text text-muted">
                    This is a whitespace-separated list of peers and/or peer groups to explicitly deny access to this share.
                    Peers are specified by the name you've given, them.  Peer groups are prefixed with an <code>@</code> symbol.
                    <br />
                    <br />
                    If the wildcard value <code>*</code> appears in the block list, then everyone will be blocked by default.
                    In this case, peers or peer groups in the allow list will override the wildecard.
                </small>
            </div>
        </div>

        <div class="form-group">
            <label for="description">Long Description</label>

            <small id="longDescriptionHelp" class="form-text text-muted mb-3">
                This is a Markdown-formatted section that will appear on the landing page when users are
                browsing this share.
            </small>

            <textarea
                class="form-control"
                name="long_description"
                aria-describedby="longDescriptionHelp"
                rows="13"
            ></textarea>
        </div>

        <button class="btn btn-primary" type="submit">Save</button>
    </form>
</div>

<script type="text/javascript">
$(function(){
    window._shares_filter_update = function(){
        var directories = document.forms['shares'].elements['_directory'];
        var directory = $(document.forms['shares'].elements['_directory']);
        var query = document.forms['shares'].elements['filter'].value;

        $.ajax('/api/db/query/'+query+'?limit=1', {
            success: function(data){
                $('#share_filter_matches').html('Matches ' + data.result_count + ' files');
            },
        });

        if(query && query != directory.val()) {
            var foundAnotherOption = false;

            $.each(directories.options, function(i, option){
                if(!foundAnotherOption){
                    if(query == option.value){
                        directories.selectedIndex = i;
                        foundAnotherOption = true;
                        directory.removeAttr('disabled');
                    }
                }
            });

            if(!foundAnotherOption){
                directory.attr('disabled', 'disabled');
            }
        }else{
            directory.removeAttr('disabled');
        }
    };


    window._shares_directory_update = function(){
        byteflood.updateIfEmpty(
            document.forms['shares'].elements['filter'],
            document.forms['shares'].elements['_directory'].value
        );
    };

    window._shares_icon_update = function(icon) {
        if(!icon) {
            icon = document.forms['shares'].elements['icon_name'].value;
        }else{
            document.forms['shares'].elements['icon_name'].value = icon;
        }

        $('#share_icon_preview i').attr('class', 'fa fa-fw fa-'+icon);
    }

    window._shares_long_description_setup = function(){
        window._shares_long_description_editor = new SimpleMDE({
            element: document.forms['shares'].elements['long_description'],
            forceSync: true,
            autosave: {
                enabled: true,
                uniqueId: 'shares_long_description_'+document.forms['shares'].elements['id'].value,
            },
            initialValue: '{{ .bindings.share.long_description }}',
        });
    }

    _shares_directory_update();
    _shares_filter_update();
    _shares_icon_update('{{ or .bindings.share.icon_name `folder` }}');
    _shares_long_description_setup();
});
</script>
